      <!-- adddEmployee -->
    <!--
      <ng-template #content let-c="close" let-d="dismiss">
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Add Employee </h4>
          <button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
        </div>
        <div class="modal-body">
          <form [formGroup]="employeeDetail2">
            <div class="pl-lg-4">
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <h6 class="heading-small text-muted mb-4">Employee informations</h6>
                    <label class="form-control-label" for="input-lastname">lastname</label>
                    <input type="text" formControlName="lastname" id="input-lastname" class="form-control form-control-alternative" placeholder="Employee lastname" value="">
                    <label class="form-control-label" for="input-firstname">firstname</label>
                    <input type="text" formControlName="firstname" id="input-firstname" class="form-control form-control-alternative" placeholder="Employee firstname" value="">
                    <label class="form-control-label" for="select-role">role</label>
                    <select formControlName="role" id="select-role" class="form-control form-control-alternative" value="project.name">
                      <option value="" disabled selected hidden>Select a role</option>
                      <option *ngFor="let profil of RoleList " [value]="profil.name" >{{profil.name}}</option>
                    </select>
                    
                    <label class="form-control-label" for="input-status">status</label>
                    <input type="text" formControlName="status" id="input-status" class="form-control form-control-alternative" placeholder="Employee status" value="">
                    <label class="form-control-label" for="input-birthdate">birthdate</label>
                    <input type="text" formControlName="birthdate" id="input-birthdate" class="form-control form-control-alternative" placeholder="Employee birthdate" value="">
                    <label class="form-control-label" for="input-address">address</label>
                    <input type="text" formControlName="address" id="input-address" class="form-control form-control-alternative" placeholder="Employee address" value="">
                    <label class="form-control-label" for="input-phonenumber">phonenumber</label>
                    <input type="text" formControlName="phonenumber" id="input-adphonenumberdress" class="form-control form-control-alternative" placeholder="Employee phonenumber" value="">
                    <label class="form-control-label" for="select-project">project</label>
                    <select formControlName="project" id="select-project" class="form-control form-control-alternative" value="project.name">
                      <option value="" disabled selected hidden>Select a project</option>
                      <option *ngFor="let project of projectList " [value]="project.name">{{project.name}}</option>
                    </select>
                    <label class="form-control-label" for="select-workroom">workroom</label>
                    <select formControlName="salle" id="select-workroom" class="form-control form-control-alternative" value="salle.num">
                      <option value="" disabled selected hidden>Select a workroom</option>
                      <option *ngFor="let salle of salleList" [value]="salle.num" >{{salle.num}}</option>
                    </select>
                </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal" (click)="close(content)" >Close</button>
        <button type="button" class="btn btn-sm btn-primary" data-bs-dismiss="modal" (click)="addEmployee()" (click)="c('Save click')">addEmployee</button></div>
          </form>
        </div>
       
      </ng-template>
    
    -->

                <!-- editemployee -->
        
                <ng-template #contentUpdate let-c="close" let-d="dismiss">
      
                  <mat-toolbar color="primary">
                    <mat-toolbar-row fxLayout="row bg-color">
                
                      <span class="title-center">Mettre à jour l'employé</span>
                      <button
                        type="button"
                        class="d-block mr-0 ml-auto btn-close" (click)="d('Cross click')"
                        aria-label="Close"
                        mat-dialog-close
                        (click)="handleClear()"
                      ></button>
                    </mat-toolbar-row>
                  </mat-toolbar>
                  <div class="modal-body">
                  <form [formGroup]="employeeDetail" >
                    <div class="pl-lg-4 field">
                      <div class="row formbg-inner   ">
                        <div class="col-lg-6">
                          <h6 class="heading-small text-muted mb-4">
                            Les informations de l'employé :
                          </h6>
                          <div class="padding-bottom--24" >
                            <label class="form-control-label"  for="input-name">Prénom</label>
                            <input type="text" formControlName="name" id="input-name" class="form-control form-control-alternative "   value="" required minlength="4">
                            <mat-error  *ngIf="employeeDetail.controls.lastname.touched && employeeDetail.controls.lastname.invalid">
                              <span *ngIf="employeeDetail.controls.lastname.errors.required"> Ce champ est obligatoire</span>
                              <span *ngIf="employeeDetail.controls.lastname.errors.pattern"> Ce champ est invalide</span> 
                              <span *ngIf="employeeDetail.controls.lastname.errors.minlength"> Le nom doit comporter au moins 4 caractères</span>
                            </mat-error>
                            </div>
                            <div class="padding-bottom--24" >
                              <label class="form-control-label"  for="input-name">Nom</label>
                              <input type="text" formControlName="name" id="input-name" class="form-control form-control-alternative "   value="" required minlength="4">
                              <mat-error  *ngIf="employeeDetail.controls.firstname.touched && employeeDetail.controls.firstname.invalid">
                                <span *ngIf="employeeDetail.controls.firstname.errors.required"> Ce champ est obligatoire</span>
                                <span *ngIf="employeeDetail.controls.firstname.errors.pattern"> Ce champ est invalide</span> 
                                <span *ngIf="employeeDetail.controls.firstname.errors.minlength"> Le nom doit comporter au moins 4 caractères</span>
                              </mat-error>
                              </div>
                              <div class="padding-bottom--24">
                                <label class="form-control-label" for="input-startdate">Date de naissance</label>
                                <input type="text" formControlName="birthdate" id="input-startdate" class="form-control form-control-alternative" placeholder="project startdate" value="" onfocus="(this.type='date')" required>
                                <mat-error  *ngIf="employeeDetail.controls.birthdate.touched && employeeDetail.controls.birthdate.invalid">
                                  <span *ngIf="employeeDetail.controls.birthdate.errors.required"> Ce champ est obligatoire</span>
                                  <span *ngIf="employeeDetail.controls.birthdate.errors.pattern"> Ce champ est invalide, le format doit être yyyy-mm-dd</span> 
                                </mat-error>
                              </div>
                              <div class="padding-bottom--24">
                                <label class="form-control-label" for="input-description">Adreese</label>
                                <input type="text" formControlName="address" id="input-address" class="form-control form-control-alternative" placeholder="project description" value="" minlength="4" required>
                                <mat-error  *ngIf="employeeDetail.controls.address.touched && employeeDetail.controls.address.invalid">
                                  <span *ngIf="employeeDetail.controls.address.errors.required"> Ce champ est obligatoire</span>
                                  <span *ngIf="employeeDetail.controls.address.errors.pattern"> Ce champ est invalide</span> 
                                  <span *ngIf="employeeDetail.controls.address.errors.minlength"> La description doit comporter au moins 4 caractères</span>
                                </mat-error>  
                              </div>
                            <div class="padding-bottom--24">
                            <label class="form-control-label" for="input-priority">Numéro</label>
                            <input type="text" formControlName="phonenumber" id="input-phonenumber" class="form-control form-control-alternative"  value="" required>
                            <mat-error  *ngIf="employeeDetail.controls.phonenumber.touched && employeeDetail.controls.priority.invalid">
                              <span *ngIf="employeeDetail.controls.phonenumber.errors.required"> Ce champ est obligatoire</span>
                              <span *ngIf="employeeDetail.controls.phonenumber.errors.pattern"> Ce champ est invalide, il doit être un numéro</span> 
                            </mat-error>  
                          </div>
                          <div class="padding-bottom--24">
                            <label class="form-control-label" for="input-departement">Chef</label>
                          <select formControlName="manager" id="select-dep" class="form-control form-control-alternative" value="dep.name">
                            <option value="" disabled selected hidden>Sélectionnez un chef</option>
                            <option *ngFor="let employee of employeeList2" [value]="employee.firstname" >{{employee.firstname}}</option>
                          </select>
                          </div>
                          <div class="padding-bottom--24">
                            <label class="form-control-label" for="input-project">Projet</label>
                          <select formControlName="project" id="select-project" class="form-control form-control-alternative" value="project.name">
                            <option value="" disabled selected hidden>Sélectionnez un project</option>
                            <option *ngFor="let project of projectList" [value]="project.name" >{{project.name}}</option>
                          </select>
                          </div>
                          <div class="padding-bottom--24">
                            <label class="form-control-label" for="input-salle">Salle</label>
                          <select formControlName="salle" id="select-salle" class="form-control form-control-alternative" value="salle.name">
                            <option value="" disabled selected hidden>Sélectionnez une salle</option>
                            <option *ngFor="let salle of salleList" [value]="salle.name" >{{salle.name}}</option>
                          </select>
                          </div>
                            
              
              
                        </div>
                      </div>
                    </div>
                    <div>
                      <mat-dialog-actions class="btn-group padding--14">
                        <button class="btn button-2 bg-cb"  [disabled]="!employeeDetail.valid" mat-strocked-button type="submit" (click)="c('Save click')"
                         (click)="updateEmployee()"  (click)="handleClear()">
                          Modifier employé
                        </button>
                        <button  class="btn button-2 bg-cr"  mat-stroked-button  mat-dialog-close  (click)="close(contentUpdate)" (click)="handleClear()">
                          Fermer
                        </button>
                      </mat-dialog-actions>
                    </div>
                  </form>
                </div>
                     
                    </ng-template>

       <!-- getemployees -->
     
     
     <div class="container-fluid page">
      <div class="d-flex page__box p-3 mt-2">Gestion des employés</div>
      <div class="page__content shadow p-3 ">
      <div class="page__content-data position-absolute text-center">
     
             <form>
              <div class="s004">
                <form class="form">
                  <fieldset>
                    <div class="inner-form">
                      <div class="input-field">
                        <input class="form-control" id="choices-text-preset-values" (ngModelChange)="searchEmployees(key.value)" #key="ngModel" ngModel
                        name="key" type="search" placeholder="Type to search..." />
                        <span class="input-icon" id="basic-addon1">
                          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
                        </svg>
                        </span>
                      </div>
                    </div> 
                  </fieldset>
                </form>
              </div>
            <ul class="responsive-table pad">
              <li class="table-header margt">
                <div [(appSort)]="employeeList2" data-order="desc" data-name="id" class="col mar col-1 text-uppercase text-white font-weight-bolder opacity-7">Id</div>
                <div [(appSort)]="employeeList2" data-order="desc" data-name="lastname" class="col mar col-2 text-uppercase text-white font-weight-bolder opacity-7">Prénom</div>
                <div [(appSort)]="employeeList2" data-order="desc" data-name="firstname" class="col  mar col-3 text-uppercase text-white font-weight-bolder opacity-7">Nom</div>
                <div [(appSort)]="employeeList2" data-order="desc" data-name="role" class="col mar col-4 text-uppercase text-white font-weight-bolder opacity-7">Role</div>
                <div [(appSort)]="employeeList2" data-order="desc" data-name="status" class="col mar col-5 text-uppercase text-white font-weight-bolder opacity-7">Etat</div>
                <div [(appSort)]="employeeList2" data-order="desc" data-name="birthdate" class="col mar col-6 text-uppercase text-white font-weight-bolder opacity-7">Date de naissance</div>
                <div [(appSort)]="employeeList2" data-order="desc" data-name="address" class="col mar col-7 text-uppercase text-white font-weight-bolder opacity-7">Adresse</div>
                <div [(appSort)]="employeeList2" data-order="desc" data-name="phonenumber" class="col mar col-8 text-uppercase text-white font-weight-bolder opacity-7">Numéro</div>
                <div [(appSort)]="employeeList2" data-order="desc" data-name="project" class="col  mar col-9 text-uppercase text-white font-weight-bolder opacity-7">Projet</div>
                <div [(appSort)]="employeeList2" data-order="desc" data-name="workroom" class="col mar col-10 text-uppercase text-white font-weight-bolder opacity-7">Salle</div>
                <div [(appSort)]="employeeList2" data-order="desc" data-name="manager" class="col mar col-11 text-uppercase text-white font-weight-bolder opacity-7">Chef</div>
                <div class="col  col-12  margl  text-uppercase text-white font-weight-bolder opacity-7"> Actions</div>
                
                
              </li>
              
              <li class="table-row"  *ngFor="let employee of employeeList2 | paginate: { id:'listing_pagination',
              itemsPerPage:4,
              currentPage:page,
              totalItems:totalRec}">
              <div class="col col-1" data-label="Id">{{employee.id}}</div>
              <div class="col col-2" data-label="lastname" style="width: 100px; word-wrap:break-word;">{{employee.lastname}}</div>
              <div class="col col-3" data-label="firstname">{{employee.firstname}}</div>
            
              <!--<div class="col col-4" data-label="role" style="width: 130px; word-wrap:break-word;">
                <p *ngFor="let i of employee" style="width: 90px; word-wrap:break-word;">{{i.name}}</p> 

                {{getUser(employee.id)}}
              </div>-->
              <div class="col col-4" data-label="role" >
                
                <p *ngFor="let i of employee.listProfils" style="width: 90px; word-wrap:break-word;">{{i}}</p> 

              </div>
              <div class="col col-5" data-label="status">{{getStatut(employee)}}</div>
              <div class="col col-6" data-label="birthdate">{{employee.birthdate}}</div>
              <div class="col col-7" data-label="address">{{employee.address}}</div>
              <div class="col col-8" data-label="phonenumber">{{employee.phonenumber}}</div>
              <div class="col col-9" data-label="project">{{employee.project}}</div>
              <div class="col col-10" data-label="workroom">{{employee.salle}}</div>
              <div class="col col-11" data-label="manager">{{employee.manager}}</div>
                <div class="col margl col-12" >
                  
                  <a href="javascript:;" class="text-secondary font-weight-bold text-xxs" data-toggle="tooltip" data-original-title="Edit employee"  (click)="editEmployee(employee)" (click)="open(contentUpdate)">
                    <i> <fa-icon [icon]="editIcon"></fa-icon> </i>
                  </a><br>
                  
                  <a href="javascript:;" class=" padlr text-secondary font-weight-bold text-xxs" data-toggle="tooltip" data-original-title="delete employee"  (click)="confirmDelete(employee)" >
                    <i><fa-icon [icon]="trashIcon"></fa-icon> </i>
                  </a>
                </div>

              </li>
              
            </ul>
            
      
            <div class="wrapper ">
              <pagination-controls  id="listing_pagination"
                (pageChange)="page=$event"  
           >
      </pagination-controls>
        
    </div>
        </form>
       
    
      
        </div>
      </div>
    </div>
